<div class="host" tabindex="-1" ti-transclude-append>
  <div class="tags">
    <ul class="tag-list">
      <li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ 'editing': tag == tagList.isSelectedTag(tag) }" ng-dblclick="tagList.selectTag(tag)">
        <div ng-hide="tagList.isEdit() && tagList.isSelectedTag(tag)">
          <span>{{getDisplayText(tag)}}</span>
          <a class="remove-button" ng-click="tagList.remove($index)">{{options.removeTagSymbol}}</a>
        </div>
        <div ng-show="tagList.isEdit() && tagList.isSelectedTag(tag)">
          <!--<span>editing {{tag.text}}</input>-->
          <input autofocus type="text" ng-enter="tagList.edited()" ng-escape="tagList.cancelEdit()" ng-model="tag.text"></input>
        </div>
      </li>
    </ul>
    <input type="text"
           class="input"
           placeholder="{{options.placeholder}}"
           tabindex="{{options.tabindex}}"
           ng-model="newTag.text"
           ng-change="newTagChange()"
           ng-trim="false"
           ng-class="{'invalid-tag': newTag.invalid}"
           ti-autosize>
  </div>
</div>